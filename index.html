<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bagre Royale • Histórico de Ligas</title>
  <meta name="theme-color" content="#070b18" />
  <link rel="icon" href="assets/main-icon.png" sizes="any" />
  <link rel="apple-touch-icon" href="assets/main-icon.png" />
  <link rel="preload" href="assets/Supercell-Magic.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="site-header">
    <div class="container header-wrap">
      <a href="index.html" class="brand" aria-label="Bagre Royale">
        <img src="assets/main-icon.png" alt="Ícone Bagre Royale" class="brand-icon" />
        <span class="brand-text">Bagre Royale</span>
      </a>
      <div class="header-actions">
        <a href="https://www.instagram.com/borgesdev/" target="_blank" rel="noopener" aria-label="Instagram do Pedro Borges">
          <img src="assets/insta.png" alt="" />
        </a>
        <a href="https://www.linkedin.com/in/pedro-borgesdev/" target="_blank" rel="noopener" aria-label="LinkedIn do Pedro Borges">
          <img src="assets/linkedin.png" alt="" />
        </a>
      </div>
    </div>
  </header>

  <main id="root">
    <section class="hero">
      <div class="container hero-wrap">
        <div>
          <h1 class="hero-title">Histórico de Ligas</h1>
          <p class="hero-subtitle">Acompanhe Campeonatos, Resultados e Estatísticas dos Bagres.</p>
          <!-- contador de acessos -->
          
        </div>
      </div>
    </section>

    <section class="container section">
      <div class="section-head">
        <h2 class="section-title">Campeonatos</h2>
      </div>
      <div id="carousel" class="carousel" aria-live="polite"></div>
    </section>

    <section class="container section">
      <div class="section-head">
        <h2 class="section-title">Bagres</h2>
        <div class="section-actions">
          <label class="input-wrap" aria-label="Ordenar jogadores">
            <select id="playerSort">
              <option value="titles">Ordenar por títulos</option>
              <option value="wins">Ordenar por vitórias</option>
              <option value="name">Ordenar por nome</option>
            </select>
          </label>
        </div>
      </div>
      <div id="playersGrid" class="players-grid" aria-live="polite"></div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <small>© <span id="year"></span> Bagre Royale</small> <small class="hero-meta" aria-live="polite">Count: <strong id="visits">0</strong></small>
      <img src="assets/logo-dev-horizontal.png" alt="Logo Dev" class="footer-dev-logo" />
    </div>
  </footer>

  <script src="data.js"></script>
  <script src="engine.js"></script>
  <script src="main.js"></script>

  <!-- CountAPI: pageviews -->
  <script>
    (function(){
      const NS="borgescodes_bagre_royale_x9f2a0";
      const KEY="home";
      const el=document.getElementById("visits");
      if(!el) return;
      const tag="pv-session";
      const hit = `https://api.countapi.xyz/hit/${NS}/${KEY}`;
      const get = `https://api.countapi.xyz/get/${NS}/${KEY}`;
      const go = (url)=>fetch(url).then(r=>r.json()).then(d=>{ if(d && typeof d.value==="number") el.textContent=d.value; }).catch(()=>{});
      if(!sessionStorage.getItem(tag)){
        sessionStorage.setItem(tag,"1");
        go(hit);     // conta 1 na primeira visita da sessão
      }else{
        go(get);     // só lê nas próximas páginas da sessão
      }
    })();
  </script>
</body>
</html>
